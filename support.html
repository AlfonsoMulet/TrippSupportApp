<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TripPlanner - Support</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background-color: #ffffff;
            color: #1e293b;
            line-height: 1.6;
            padding: 20px;
            transition: background-color 0.3s, color 0.3s;
        }

        body.dark-mode {
            background-color: #0f172a;
            color: #f1f5f9;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
        }

        header {
            padding: 40px 0 30px;
            border-bottom: 1px solid #e2e8f0;
            margin-bottom: 40px;
            position: relative;
        }

        body.dark-mode header {
            border-bottom-color: #334155;
        }

        .theme-toggle {
            position: absolute;
            top: 40px;
            right: 0;
            background: #3b82f6;
            border: none;
            color: white;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
        }

        .theme-toggle:hover {
            background: #2563eb;
        }

        h1 {
            font-size: 28px;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .subtitle {
            font-size: 16px;
            color: #64748b;
        }

        body.dark-mode .subtitle {
            color: #94a3b8;
        }

        .section {
            margin: 40px 0;
        }

        h2 {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 20px;
            color: #1e293b;
        }

        body.dark-mode h2 {
            color: #f1f5f9;
        }

        .faq-item {
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 12px;
        }

        body.dark-mode .faq-item {
            background: #1e293b;
            border-color: #334155;
        }

        .faq-question {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .faq-answer {
            color: #64748b;
            font-size: 15px;
        }

        body.dark-mode .faq-answer {
            color: #94a3b8;
        }

        .faq-answer ul,
        .faq-answer ol {
            margin: 8px 0;
            padding-left: 20px;
        }

        .faq-answer li {
            margin: 4px 0;
        }

        .contact-section {
            background: #3b82f6;
            border-radius: 8px;
            padding: 30px;
            text-align: center;
            color: white;
            margin: 40px 0;
        }

        .contact-section h2 {
            color: white;
            margin-bottom: 12px;
        }

        .contact-email {
            display: inline-block;
            background: rgba(255, 255, 255, 0.2);
            padding: 10px 20px;
            border-radius: 6px;
            color: white;
            text-decoration: none;
            font-weight: 500;
            margin-top: 12px;
        }

        .contact-email:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        footer {
            text-align: center;
            padding: 30px 0;
            color: #64748b;
            font-size: 14px;
            border-top: 1px solid #e2e8f0;
            margin-top: 40px;
        }

        body.dark-mode footer {
            color: #94a3b8;
            border-top-color: #334155;
        }

        @media (max-width: 640px) {
            body {
                padding: 10px;
            }

            h1 {
                font-size: 24px;
            }

            h2 {
                font-size: 18px;
            }

            .theme-toggle {
                position: static;
                margin-bottom: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <button class="theme-toggle" onclick="toggleTheme()">Toggle Dark Mode</button>
            <h1>TripPlanner Support</h1>
            <p class="subtitle">Help and frequently asked questions</p>
        </header>

        <section class="section">
            <h2>Getting Started</h2>
            <div class="faq-item">
                <div class="faq-question">How do I create my first trip?</div>
                <div class="faq-answer">
                    <ol>
                        <li>Tap the + button on the Trips screen</li>
                        <li>Enter your trip name, dates, and optional description</li>
                        <li>Set a budget if you want to track expenses</li>
                        <li>Tap Create Trip to get started</li>
                    </ol>
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question">How do I add stops to my trip?</div>
                <div class="faq-answer">
                    <ol>
                        <li>Open your trip from the Trips list</li>
                        <li>Tap the + button in the top right corner</li>
                        <li>Search for a place using the search bar</li>
                        <li>Select your location from the results</li>
                        <li>Fill in details like day, time, cost, and notes</li>
                        <li>Tap Add Stop to save it</li>
                    </ol>
                </div>
            </div>
        </section>

        <section class="section">
            <h2>Collaboration and Sharing</h2>
            <div class="faq-item">
                <div class="faq-question">How do I add friends to the app?</div>
                <div class="faq-answer">
                    <ol>
                        <li>Go to the Friends tab</li>
                        <li>Tap the Add Friend button</li>
                        <li>Choose to either share your code or enter a friend's code</li>
                        <li>Share your 8-digit code with friends, or enter theirs to connect</li>
                    </ol>
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question">How do I share a trip with friends?</div>
                <div class="faq-answer">
                    <ol>
                        <li>Open the trip you want to share</li>
                        <li>Tap the people icon in the top right</li>
                        <li>Select friends from your friends list</li>
                        <li>They'll receive access and can view/edit the trip together</li>
                    </ol>
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question">Can I control who can edit my trip?</div>
                <div class="faq-answer">
                    When you share a trip, you can manage members and remove access at any time. Open the trip, tap the people icon, and manage members from there. Only you (the trip owner) can delete the trip.
                </div>
            </div>
        </section>

        <section class="section">
            <h2>Managing Your Trips</h2>
            <div class="faq-item">
                <div class="faq-question">How do I reorder stops in my trip?</div>
                <div class="faq-answer">
                    Press and hold on a stop card, then drag it to reorder. The app will automatically update routes and transport information.
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question">Can I see my trip on a map?</div>
                <div class="faq-answer">
                    Tap the Map tab at the bottom to see all your current trip's stops displayed on an interactive map. You can see routes between stops and get a visual overview of your journey.
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question">How do I delete a trip or stop?</div>
                <div class="faq-answer">
                    To delete a stop: Swipe left on the stop card and tap the delete button, or edit the stop and use the delete option.
                    <br><br>
                    To delete a trip: Swipe left on the trip in your Trips list and confirm deletion.
                </div>
            </div>
        </section>

        <section class="section">
            <h2>Settings and Customization</h2>
            <div class="faq-item">
                <div class="faq-question">How do I change the app theme?</div>
                <div class="faq-answer">
                    <ol>
                        <li>Go to the Profile tab</li>
                        <li>Look for the theme toggle</li>
                        <li>Choose between Light, Dark, or System theme</li>
                    </ol>
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question">Can I change the language?</div>
                <div class="faq-answer">
                    We support multiple languages. Go to Profile → Settings to change your preferred language. Currently supported: English, Spanish, French, German, and more.
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question">How do I change date/time format?</div>
                <div class="faq-answer">
                    Visit Profile → Settings to customize how dates and times are displayed throughout the app.
                </div>
            </div>
        </section>

        <section class="section">
            <h2>Troubleshooting</h2>
            <div class="faq-item">
                <div class="faq-question">The app isn't loading my trips</div>
                <div class="faq-answer">
                    Try these steps:
                    <ul>
                        <li>Check your internet connection</li>
                        <li>Pull down to refresh the trips list</li>
                        <li>Sign out and sign back in</li>
                        <li>Restart the app</li>
                    </ul>
                    If the problem persists, contact us below.
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question">My map isn't showing stops</div>
                <div class="faq-answer">
                    Make sure you have:
                    <ul>
                        <li>A trip set as "Current Trip"</li>
                        <li>At least one stop added to that trip</li>
                        <li>Location permissions enabled for the app</li>
                        <li>A stable internet connection</li>
                    </ul>
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question">Search isn't finding places</div>
                <div class="faq-answer">
                    This feature uses Google Places API. Make sure:
                    <ul>
                        <li>You have an active internet connection</li>
                        <li>You're typing at least 2 characters</li>
                        <li>The place name is spelled correctly</li>
                    </ul>
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question">I can't add a friend using their code</div>
                <div class="faq-answer">
                    Friend codes are 8 digits long and expire after 24 hours. Make sure:
                    <ul>
                        <li>The code was generated recently</li>
                        <li>You're entering exactly 8 digits</li>
                        <li>Your friend has an active account</li>
                    </ul>
                </div>
            </div>
        </section>

        <section class="section">
            <h2>Privacy and Account</h2>
            <div class="faq-item">
                <div class="faq-question">Is my data secure?</div>
                <div class="faq-answer">
                    We use Firebase Authentication and Firestore with security rules to protect your data. Your trips are private by default and only accessible to you and people you explicitly share with.
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question">How do I delete my account?</div>
                <div class="faq-answer">
                    To delete your account and all associated data:
                    <ol>
                        <li>Go to Profile tab</li>
                        <li>Scroll down and tap Delete Account</li>
                        <li>Confirm the deletion</li>
                    </ol>
                    Warning: This action is permanent and cannot be undone. All your trips, stops, and data will be permanently deleted.
                </div>
            </div>
        </section>

        <section class="contact-section">
            <h2>Need Help?</h2>
            <p>Can't find what you're looking for? I'm here to help.</p>
            <a href="mailto:support@tripplanner.app" class="contact-email">support@tripplanner.app</a>
            <p style="margin-top: 20px; font-size: 14px;">I typically respond within 24-48 hours</p>
        </section>

        <footer>
            <p><strong>TripPlanner</strong></p>
            <p>Version 1.0.0</p>
            <p style="margin-top: 8px;">© 2025 TripPlanner. All rights reserved.</p>
        </footer>
    </div>

    <script>
        // Check for saved theme preference or default to light mode
        const currentTheme = localStorage.getItem('theme') || 'light';
        if (currentTheme === 'dark') {
            document.body.classList.add('dark-mode');
        }

        function toggleTheme() {
            document.body.classList.toggle('dark-mode');

            // Save preference
            const theme = document.body.classList.contains('dark-mode') ? 'dark' : 'light';
            localStorage.setItem('theme', theme);
        }
    </script>
</body>
</html>
